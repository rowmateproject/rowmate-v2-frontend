import{x as _,y as b,c as w,w as o,ah as V,o as g,a as e,f as h,V as $,K as k,d as i,I as u,u as d,ai as x,a0 as y,a6 as A,z as r}from"./index.a40d960c.js";import{_ as B}from"./SectionFullScreen.b2be774f.js";import{_ as p,a as U}from"./FormField.ccb7a2e0.js";import{_ as v}from"./BaseButtons.8e00bda5.js";const R={__name:"LoginView",setup(M){const l=_(),s=b({login:"",pass:"",remember:!0}),c=x(),f=()=>{var n=new FormData;n.append("username",s.login),n.append("password",s.pass),r.post(`${l.api}/auth/jwt/login`,n).then(a=>{l.setAccessToken("Bearer "+a.data.access_token),r.defaults.baseURL=l.api,r.defaults.headers.common.Authorization="Bearer "+a.data.access_token,r.get("/users/me").then(m=>{l.setUser(m.data)}).then(function(){c.push("/dashboard")})})};return(n,a)=>(g(),w(V,null,{default:o(()=>[e(B,{bg:"purplePink"},{default:o(({cardClass:m})=>[e(h,{class:$(m),"is-form":"",onSubmit:k(f,["prevent"])},{footer:o(()=>[e(v,null,{default:o(()=>[e(i,{type:"submit",color:"info",label:"Login"}),e(i,{to:"/dashboard",color:"info",outline:"",label:"Back"})]),_:1})]),default:o(()=>[e(p,{label:"E-Mail",help:"Please enter your E-Mail-Address"},{default:o(()=>[e(u,{modelValue:s.login,"onUpdate:modelValue":a[0]||(a[0]=t=>s.login=t),icon:d(y),name:"login",autocomplete:"username"},null,8,["modelValue","icon"])]),_:1}),e(p,{label:"Password",help:"Please enter your password"},{default:o(()=>[e(u,{modelValue:s.pass,"onUpdate:modelValue":a[1]||(a[1]=t=>s.pass=t),icon:d(A),type:"password",name:"password",autocomplete:"current-password"},null,8,["modelValue","icon"])]),_:1}),e(U,{modelValue:s.remember,"onUpdate:modelValue":a[2]||(a[2]=t=>s.remember=t),name:"remember",label:"Remember","input-value":!0},null,8,["modelValue"])]),_:2},1032,["class","onSubmit"])]),_:1})]),_:1}))}};export{R as default};
